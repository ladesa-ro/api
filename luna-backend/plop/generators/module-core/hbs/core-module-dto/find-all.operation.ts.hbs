import { ObjectType } from '@nestjs/graphql';
import * as Dto from '../../../(spec)';
import { DtoProperty, PaginatedResultDto, SearchInputDto, SearchInputValidationContract, createDtoOperationOptions } from '../../../../../infrastructure';
import { {{ c_pascal moduleName }}Dto } from './{{ c_kebab moduleName }}.dto';

// ======================================================

@ObjectType('{{ c_pascal moduleName }}FindAllResult')
export class {{ c_pascal moduleName }}FindAllResultDto extends PaginatedResultDto<Dto.I{{ c_pascal moduleName }}FindOneResultDto> implements Dto.I{{ c_pascal moduleName }}FindAllResultDto {
  @DtoProperty({
    description: 'Resultados da busca.',
    nullable: false,
    gql: {
      type: () => [{{ c_pascal moduleName }}Dto],
    },
    swagger: {
      type: [{{ c_pascal moduleName }}FindAllResultDto],
    },
  })
  data!: Dto.I{{ c_pascal moduleName }}FindOneResultDto[];
}

// =============================================================

export const {{ c_constant moduleName }}_FIND_ALL = createDtoOperationOptions({
  description: 'Lista de "{{ c_no moduleName }}" cadastrados no sistema.',

  gql: {
    name: '{{ c_camel moduleName }}FindAll',
    returnType: () => {{ c_pascal moduleName }}FindAllResultDto,

    inputNullable: true,
    inputDtoType: () => SearchInputDto,
    inputDtoValidationContract: SearchInputValidationContract,
  },

  swagger: {
    returnType: {{ c_pascal moduleName }}FindAllResultDto,

    queries: [
      //
      'page',
      'limit',
      'search',
      'sortBy',
      //
    ],
  },
});

// ======================================================
